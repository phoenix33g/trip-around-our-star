<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title name="Main">CPI</title>
    <link rel="icon" href="images/UniLogo_64x64.png" type="image/png">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <nav id="navTitle" class="nav-title">
        <h1 id="title" class="title" onclick="mainClick(this)"><a>CPI</a></h1>
        <input type="checkbox" id="navToggle" class="nav-toggle">
        <div id="conTitle" class="con-title">
            <ul id="mainMenu" class="main-menu">
                <li id="ABC" class="item0" onclick="mainClick(this)"><a>abc</a></li>
                <li id="H" class="item1" onclick="mainClick(this)"><a>CÃ¡mera</a></li>
                <li id="G" class="item2" onclick="mainClick(this)"><a>Gobernador</a></li>
                <li id="S" class="item3" onclick="mainClick(this)"><a>Senado</a></li>
                <!--<li id="I" class="item4" onclick="mainClick(this)"><a>Ballot Initiative</a></li>-->
                <!--<li id="P" class="item5" onclick="mainClick(this)"><a>Presidential</a></li>-->
            </ul>
        </div>
        <label for="navToggle" id="navToggleLabel" class="nav-toggle-label"><span></span></label>
        <div id="raceToggle" class="race-toggle">
            <button onclick="toggleAllRaces('none')" id="btnHide" class="btn-toggle">[-]</button>
            <button onclick="toggleAllRaces('Block')" id="btnShow" class="btn-toggle">[+]</button>
        </div>
    </nav>

    <div id="info" class="info">
        <div id="infoContainer" class="info-container"></div>
    </div>

    <div id="spinnerCon" class="spinner-con">
        <div id="spinnerProgress" class="spinner-progress">
            <img src="images/UniLogo.png">
        </div>
        <p id="spinnerText" class="spinner-text">LOADING...</p>
    </div>

    <script id="infoTemplate" class="info-template" type="text/x-handlebars-template">
        <div id="navPad" class="nav-pad"></div>
        {{#each races}} {{#ifCond location '!=' 'US'}} {{{{nonRepeat location}}}} {{{{/nonRepeat}}}}
        <div name="{{location}}" id="raceInfoTemp" class="race-info-temp" style="display: none;">
            <div id="officeFull" class="office-full">{{#lookUpDic "office"}} {{office_type}} {{/lookUpDic}} {{#if district}} - {{#ifCond office_type '==' 'H'}}D:{{/ifCond}}{{district}}{{/if}}</div>
            <div id="stateFull" class="state-full">{{#lookUpDic "state"}} {{location}} {{/lookUpDic}}</div>
            <div id="cwParty" class="cw-party" style="{{#partyColor projection.winners @index}}{{/partyColor}}">{{#ifCond office_type '!=' 'I'}} {{#winnersInfo projection.winners @index 'party'}} {{/winnersInfo}} {{/ifCond}}</div>
            <div id="precinctsReported" class="precincts-reported">Precincts Reported: {{#truncateNum 2 precinct_reporting_percentage}}{{/truncateNum}}%</div>
            <div class="second-line">
                <div id="stateAbbr" class="state-abbr">{{location}}</div>
                <div id="cwCon{{location}}{{office_type}}{{district}}" class="cw-con">
                    <span id="titleTx" class="title-tx">Current Winner:</span>
                    <button onclick="dropDown({{@index}}, '{{location}}','{{office_type}}','{{district}}')" id="btnName" class="btn-name{{#btnColor @index}}{{/btnColor}}" name="{{#winnersInfo projection.winners @index 'id'}} {{/winnersInfo}}">{{#winnersInfo projection.winners @index 'full_name'}} {{/winnersInfo}}</button>
                    <div id="cwList{{location}}{{office_type}}{{district}}" class="cw-list">
                        {{{{createList @index}}}} {{{{/createList}}}}
                    </div>
                </div>
                <div name="{{projection.winners}}" id="fuenteCon" class="cw-con" style="display: {{#fuenteDisplay @index}} {{/fuenteDisplay}};">
                    <span id="titleTx" class="title-tx">Fuente:</span>
                    <input type="text" name="{{projection.winners}}" id="fuente{{location}}{{office_type}}{{district}}" class="fuente" value="{{projection.caption}}" onclick="fuenteClick(this,'{{location}}','{{office_type}}','{{district}}')">
                </div>
            </div>
            {{#if description}}
            <div id="description" class="description">Disctiption: {{description}}</div>
            {{/if}}
            <div class="last-bar" style="{{#partyColor projection.winners @index}}{{/partyColor}}"></div>
        </div>
        {{/ifCond}} {{/each}}
    </script>

    <script src="js/handlebars-v4.0.11.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/dictionary.js"></script>
    <script src="js/main.js"></script>
</body>

</html>
